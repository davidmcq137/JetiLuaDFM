[

    {"id":168, "param": 0,"sensorName": "", "label": "IBP 2S LiFe",
     "initString":
     "CapTotal={500,2500,2500,3500}; 
      CapLeft={500,2500, 2500,3500}; 
      Current={0,0,0,0}; 
      A123=require('A123')"
    },

    {"id":168,
     "param": 1,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "SOC P5",
     "unit": "%",
     "luaExp":"P5(0,100000)"
    },
    {"id":168,
     "param": 2,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "Cell 1 P6",
     "unit": "mV",
     "luaExp":"P6(0,10)"
    },
    {"id":168,
     "param": 3,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "Cell 2 P7",
     "unit": "mv",
     "luaExp":"P7(0,10)"
    },
    {"id":168,
     "param": 4,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "Pack P8",
     "unit": "mV",
     "luaExp":"P8(0,10)"
    },
    {"id":168,
     "param": 5,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "luaExp":"P7(0,11000)",
     "label": "Supply",
     "unit": "V"
    },
    {"id":168,
     "param": 6,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "Capacity",
     "unit": "mAh",
     "luaFunc":
     "CapLeft[1] = math.max(0, CapLeft[1] + dt * Current[1]/36); return CapTotal[1] - CapLeft[1]"
    },
    {"id":168,
     "param": 7,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "luaExp":"CapTotal[1]",
     "label": "Cap. total",
     "unit": "mAh"
    },
    {"id":168,
     "param": 8,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "Temperature",
     "unit": "째C",
     "luaExp":"P8(0,100)"
    },
    {"id":168,
     "param": 9,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "luaFunc":
     "Current[1]=P1(0,-4000);if CapLeft[1] > 0 then return P1(0,-4000)+200*math.random() else return 0 end",
     "label": "Current",
     "unit": "mA"
    },

    {"id":17867848, "param": 0,"sensorName": "", "label": "IBP 3S LiFe"},

    {"id":17867848,
     "param": 1,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "SOC",
     "unit": "%",
     "luaExp":"100*CapLeft[2]/CapTotal[2]"
    },
    {"id":17867848,
     "param": 2,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "Cell 1",
     "unit": "mV",
     "luaExp":"A123.Volt(100*CapLeft[2]/CapTotal[2])*1000"
    },
    {"id":17867848,
     "param": 3,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "Cell 2",
     "unit": "mv",
     "luaExp":"A123.Volt(100*CapLeft[2]/CapTotal[2])*1000"     
    },
    {"id":17867848,
     "param": 4,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "Cell 3",
     "unit": "mv",
     "luaExp":"A123.Volt(100*CapLeft[2]/CapTotal[2])*1000"     
    },
    {"id":17867848,
     "param": 5,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "Pack",
     "unit": "mV",
     "luaExp":"3*A123.Volt(100*CapLeft[2]/CapTotal[2])*1000"     
    },
    {"id":17867848,
     "param": 6,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "luaExp":"15",
     "label": "Supply",
     "unit": "V"
    },
    {"id":17867848,
     "param": 7,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "Cap. left",
     "unit": "mAh",
     "luaFunc":
     "CapLeft[2] = math.max(0, CapLeft[2] + dt * Current[2]/36); return CapLeft[2]"
    },
    {"id":17867848,
     "param": 8,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "luaExp":"CapTotal[2]",
     "label": "Cap. total",
     "unit": "mAh"
    },
    {"id":17867848,
     "param": 9,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "Temperature",
     "unit": "째C",
     "luaExp":"P8(0,100)"
    },
    {"id":17867848,
     "param": 10,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "luaFunc":
     "Current[2]=P2(0,-4000);if CapLeft[2] > 0 then return P2(0,-4000)+200*math.random() else return 0 end",
     "label": "Current",
     "unit": "mA"
    },

    {"id":19965000, "param": 0,"sensorName": "", "label": "IBP 2S LiIon"},

    {"id":19965000,
     "param": 1,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "SOC",
     "unit": "%",
     "luaExp":"100*CapLeft[3]/CapTotal[3]"
    },
    {"id":19965000,
     "param": 2,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "Cell 1",
     "unit": "mV",
     "luaExp":"A123.Volt(100*CapLeft[3]/CapTotal[3])*1000"
    },
    {"id":19965000,
     "param": 3,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "Cell 2",
     "unit": "mv",
     "luaExp":"A123.Volt(100*CapLeft[3]/CapTotal[3])*1000"     
    },
    {"id":19965000,
     "param": 4,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "Pack",
     "unit": "mV",
     "luaExp":"2*A123.Volt(100*CapLeft[3]/CapTotal[3])*1000"     
    },
    {"id":19965000,
     "param": 5,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "luaExp":"15",
     "label": "Supply",
     "unit": "V"
    },
    {"id":19965000,
     "param": 6,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "Cap. left",
     "unit": "mAh",
     "luaFunc":
     "CapLeft[3] = math.max(0, CapLeft[3] + dt * Current[3]/36); return CapLeft[3]"
    },
    {"id":19965000,
     "param": 7,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "luaExp":"CapTotal[3]",
     "label": "Cap. total",
     "unit": "mAh"
    },
    {"id":19965000,
     "param": 8,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "Temperature",
     "unit": "째C",
     "luaExp":"P8(0,100)"
    },
    {"id":19965000,
     "param": 10,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "luaFunc":
     "Current[3]=P3(0,-4000);if CapLeft[3] > 0 then return P3(0,-4000)+200*math.random() else return 0 end",
     "label": "Current",
     "unit": "mA"
    },

    {"id":21013576, "param": 0,"sensorName": "", "label": "IBP 2S LiIon"},

    {"id":21013576,
     "param": 1,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "SOC",
     "unit": "%",
     "luaExp":"100*CapLeft[4]/CapTotal[4]"
    },
    {"id":21013576,
     "param": 2,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "Cell 1",
     "unit": "mV",
     "luaExp":"A123.Volt(100*CapLeft[4]/CapTotal[4])*1000"
    },
    {"id":21013576,
     "param": 3,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "Cell 2",
     "unit": "mv",
     "luaExp":"A123.Volt(100*CapLeft[4]/CapTotal[4])*1000"     
    },
    {"id":21013576,
     "param": 4,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "Pack",
     "unit": "mV",
     "luaExp":"2*A123.Volt(100*CapLeft[4]/CapTotal[4])*1000"     
    },
    {"id":21013576,
     "param": 5,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "luaExp":"15",
     "label": "Supply",
     "unit": "V"
    },
    {"id":21013576,
     "param": 6,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "Cap. left",
     "unit": "mAh",
     "luaFunc":
     "CapLeft[4] = math.max(0, CapLeft[4] + dt * Current[4]/36); return CapLeft[4]"
    },
    {"id":21013576,
     "param": 7,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "luaExp":"CapTotal[4]",
     "label": "Cap. total",
     "unit": "mAh"
    },
    {"id":21013576,
     "param": 8,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "label": "Temperature",
     "unit": "째C",
     "luaExp":"P8(0,100)"
    },
    {"id":21013576,
     "param": 10,
     "decimals": 0,
     "type": 1,
     "sensorName": "IBP",
     "luaFunc":
     "Current[4]=P4(0,-4000);if CapLeft[4] > 0 then return P4(0,-4000)+200*math.random() else return 0 end",
     "label": "Current",
     "unit": "mA"
    }

]
