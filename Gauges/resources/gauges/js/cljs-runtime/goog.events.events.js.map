{
"version":3,
"file":"goog.events.events.js",
"lineCount":382,
"mappings":"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",
"sources":["goog/events/events.js"],
"sourcesContent":["/**\n * @license\n * Copyright The Closure Library Authors.\n * SPDX-License-Identifier: Apache-2.0\n */\n\n/**\n * @fileoverview An event manager for both native browser event\n * targets and custom JavaScript event targets\n * (`goog.events.Listenable`). This provides an abstraction\n * over browsers' event systems.\n *\n * It also provides a simulation of W3C event model's capture phase in\n * Internet Explorer (IE 8 and below). Caveat: the simulation does not\n * interact well with listeners registered directly on the elements\n * (bypassing goog.events) or even with listeners registered via\n * goog.events in a separate JS binary. In these cases, we provide\n * no ordering guarantees.\n *\n * The listeners will receive a \"patched\" event object. Such event object\n * contains normalized values for certain event properties that differs in\n * different browsers.\n *\n * Example usage:\n * <pre>\n * goog.events.listen(myNode, 'click', function(e) { alert('woo') });\n * goog.events.listen(myNode, 'mouseover', mouseHandler, true);\n * goog.events.unlisten(myNode, 'mouseover', mouseHandler, true);\n * goog.events.removeAll(myNode);\n * </pre>\n *\n *                                            in IE and event object patching]\n *\n * @see ../demos/events.html\n * @see ../demos/event-propagation.html\n * @see ../demos/stopevent.html\n */\n\n// IMPLEMENTATION NOTES:\n// goog.events stores an auxiliary data structure on each EventTarget\n// source being listened on. This allows us to take advantage of GC,\n// having the data structure GC'd when the EventTarget is GC'd. This\n// GC behavior is equivalent to using W3C DOM Events directly.\n\ngoog.provide('goog.events');\ngoog.provide('goog.events.CaptureSimulationMode');\ngoog.provide('goog.events.Key');\ngoog.provide('goog.events.ListenableType');\n\ngoog.require('goog.asserts');\ngoog.require('goog.debug.entryPointRegistry');\ngoog.require('goog.events.BrowserEvent');\ngoog.require('goog.events.BrowserFeature');\ngoog.require('goog.events.Listenable');\ngoog.require('goog.events.ListenerMap');\ngoog.requireType('goog.debug.ErrorHandler');\ngoog.requireType('goog.events.EventId');\ngoog.requireType('goog.events.EventLike');\ngoog.requireType('goog.events.EventWrapper');\ngoog.requireType('goog.events.ListenableKey');\ngoog.requireType('goog.events.Listener');\n\n\n/**\n * @typedef {number|goog.events.ListenableKey}\n */\ngoog.events.Key;\n\n\n/**\n * @typedef {EventTarget|goog.events.Listenable}\n */\ngoog.events.ListenableType;\n\n\n/**\n * Property name on a native event target for the listener map\n * associated with the event target.\n * @private @const {string}\n */\ngoog.events.LISTENER_MAP_PROP_ = 'closure_lm_' + ((Math.random() * 1e6) | 0);\n\n\n/**\n * String used to prepend to IE event types.\n * @const\n * @private\n */\ngoog.events.onString_ = 'on';\n\n\n/**\n * Map of computed \"on<eventname>\" strings for IE event types. Caching\n * this removes an extra object allocation in goog.events.listen which\n * improves IE6 performance.\n * @const\n * @dict\n * @private\n */\ngoog.events.onStringMap_ = {};\n\n\n/**\n * @enum {number} Different capture simulation mode for IE8-.\n */\ngoog.events.CaptureSimulationMode = {\n  /**\n   * Does not perform capture simulation. Will asserts in IE8- when you\n   * add capture listeners.\n   */\n  OFF_AND_FAIL: 0,\n\n  /**\n   * Does not perform capture simulation, silently ignore capture\n   * listeners.\n   */\n  OFF_AND_SILENT: 1,\n\n  /**\n   * Performs capture simulation.\n   */\n  ON: 2\n};\n\n\n/**\n * @define {number} The capture simulation mode for IE8-. By default,\n *     this is ON.\n */\ngoog.events.CAPTURE_SIMULATION_MODE =\n    goog.define('goog.events.CAPTURE_SIMULATION_MODE', 2);\n\n\n/**\n * Estimated count of total native listeners.\n * @private {number}\n */\ngoog.events.listenerCountEstimate_ = 0;\n\n\n/**\n * Adds an event listener for a specific event on a native event\n * target (such as a DOM element) or an object that has implemented\n * {@link goog.events.Listenable}. A listener can only be added once\n * to an object and if it is added again the key for the listener is\n * returned. Note that if the existing listener is a one-off listener\n * (registered via listenOnce), it will no longer be a one-off\n * listener after a call to listen().\n *\n * @param {EventTarget|goog.events.Listenable} src The node to listen\n *     to events on.\n * @param {string|Array<string>|\n *     !goog.events.EventId<EVENTOBJ>|!Array<!goog.events.EventId<EVENTOBJ>>}\n *     type Event type or array of event types.\n * @param {function(this:T, EVENTOBJ):?|{handleEvent:function(?):?}|null}\n *     listener Callback method, or an object with a handleEvent function.\n *     WARNING: passing an Object is now softly deprecated.\n * @param {(boolean|!AddEventListenerOptions)=} opt_options\n * @param {T=} opt_handler Element in whose scope to call the listener.\n * @return {goog.events.Key} Unique key for the listener.\n * @template T,EVENTOBJ\n */\ngoog.events.listen = function(src, type, listener, opt_options, opt_handler) {\n  'use strict';\n  if (opt_options && opt_options.once) {\n    return goog.events.listenOnce(\n        src, type, listener, opt_options, opt_handler);\n  }\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      goog.events.listen(src, type[i], listener, opt_options, opt_handler);\n    }\n    return null;\n  }\n\n  listener = goog.events.wrapListener(listener);\n  if (goog.events.Listenable.isImplementedBy(src)) {\n    var capture =\n        goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options;\n    return src.listen(\n        /** @type {string|!goog.events.EventId} */ (type), listener, capture,\n        opt_handler);\n  } else {\n    return goog.events.listen_(\n        /** @type {!EventTarget} */ (src), type, listener,\n        /* callOnce */ false, opt_options, opt_handler);\n  }\n};\n\n\n/**\n * Adds an event listener for a specific event on a native event\n * target. A listener can only be added once to an object and if it\n * is added again the key for the listener is returned.\n *\n * Note that a one-off listener will not change an existing listener,\n * if any. On the other hand a normal listener will change existing\n * one-off listener to become a normal listener.\n *\n * @param {EventTarget} src The node to listen to events on.\n * @param {string|?goog.events.EventId<EVENTOBJ>} type Event type.\n * @param {!Function} listener Callback function.\n * @param {boolean} callOnce Whether the listener is a one-off\n *     listener or otherwise.\n * @param {(boolean|!AddEventListenerOptions)=} opt_options\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n * @return {goog.events.ListenableKey} Unique key for the listener.\n * @template EVENTOBJ\n * @private\n */\ngoog.events.listen_ = function(\n    src, type, listener, callOnce, opt_options, opt_handler) {\n  'use strict';\n  if (!type) {\n    throw new Error('Invalid event type');\n  }\n\n  var capture =\n      goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options;\n  if (capture && !goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT) {\n    if (goog.events.CAPTURE_SIMULATION_MODE ==\n        goog.events.CaptureSimulationMode.OFF_AND_FAIL) {\n      goog.asserts.fail('Can not register capture listener in IE8-.');\n      return null;\n    } else if (\n        goog.events.CAPTURE_SIMULATION_MODE ==\n        goog.events.CaptureSimulationMode.OFF_AND_SILENT) {\n      return null;\n    }\n  }\n\n  var listenerMap = goog.events.getListenerMap_(src);\n  if (!listenerMap) {\n    src[goog.events.LISTENER_MAP_PROP_] = listenerMap =\n        new goog.events.ListenerMap(src);\n  }\n\n  var listenerObj = /** @type {goog.events.Listener} */ (\n      listenerMap.add(type, listener, callOnce, capture, opt_handler));\n\n  // If the listenerObj already has a proxy, it has been set up\n  // previously. We simply return.\n  if (listenerObj.proxy) {\n    return listenerObj;\n  }\n\n  var proxy = goog.events.getProxy();\n  listenerObj.proxy = proxy;\n\n  proxy.src = src;\n  proxy.listener = listenerObj;\n\n  // Attach the proxy through the browser's API\n  if (src.addEventListener) {\n    // Don't pass an object as `capture` if the browser doesn't support that.\n    if (!goog.events.BrowserFeature.PASSIVE_EVENTS) {\n      opt_options = capture;\n    }\n    // Don't break tests that expect a boolean.\n    if (opt_options === undefined) opt_options = false;\n    src.addEventListener(type.toString(), proxy, opt_options);\n  } else if (src.attachEvent) {\n    // The else if above used to be an unconditional else. It would call\n    // attachEvent come gws or high water. This would sometimes throw an\n    // exception on IE11, spoiling the day of some callers. The previous\n    // incarnation of this code, from 2007, indicates that it replaced an\n    // earlier still version that caused excess allocations on IE6.\n    src.attachEvent(goog.events.getOnString_(type.toString()), proxy);\n  } else if (src.addListener && src.removeListener) {\n    // In IE, MediaQueryList uses addListener() insteadd of addEventListener. In\n    // Safari, there is no global for the MediaQueryList constructor, so we just\n    // check whether the object \"looks like\" MediaQueryList.\n    goog.asserts.assert(\n        type === 'change', 'MediaQueryList only has a change event');\n    src.addListener(proxy);\n  } else {\n    throw new Error('addEventListener and attachEvent are unavailable.');\n  }\n\n  goog.events.listenerCountEstimate_++;\n  return listenerObj;\n};\n\n\n/**\n * Helper function for returning a proxy function.\n * @return {!Function} A new or reused function object.\n */\ngoog.events.getProxy = function() {\n  'use strict';\n  var proxyCallbackFunction = goog.events.handleBrowserEvent_;\n  // Use a local var f to prevent one allocation.\n  var f =\n      goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT ? function(eventObject) {\n        'use strict';\n        return proxyCallbackFunction.call(f.src, f.listener, eventObject);\n      } : function(eventObject) {\n        'use strict';\n        var v = proxyCallbackFunction.call(f.src, f.listener, eventObject);\n        // NOTE(chrishenry): In IE, we hack in a capture phase. However, if\n        // there is inline event handler which tries to prevent default (for\n        // example <a href=\"...\" onclick=\"return false\">...</a>) in a\n        // descendant element, the prevent default will be overridden\n        // by this listener if this listener were to return true. Hence, we\n        // return undefined.\n        if (!v) return v;\n      };\n  return f;\n};\n\n\n/**\n * Adds an event listener for a specific event on a native event\n * target (such as a DOM element) or an object that has implemented\n * {@link goog.events.Listenable}. After the event has fired the event\n * listener is removed from the target.\n *\n * If an existing listener already exists, listenOnce will do\n * nothing. In particular, if the listener was previously registered\n * via listen(), listenOnce() will not turn the listener into a\n * one-off listener. Similarly, if there is already an existing\n * one-off listener, listenOnce does not modify the listeners (it is\n * still a once listener).\n *\n * @param {EventTarget|goog.events.Listenable} src The node to listen\n *     to events on.\n * @param {string|Array<string>|\n *     !goog.events.EventId<EVENTOBJ>|!Array<!goog.events.EventId<EVENTOBJ>>}\n *     type Event type or array of event types.\n * @param {function(this:T, EVENTOBJ):?|{handleEvent:function(?):?}|null}\n *     listener Callback method.\n * @param {(boolean|!AddEventListenerOptions)=} opt_options\n * @param {T=} opt_handler Element in whose scope to call the listener.\n * @return {goog.events.Key} Unique key for the listener.\n * @template T,EVENTOBJ\n */\ngoog.events.listenOnce = function(\n    src, type, listener, opt_options, opt_handler) {\n  'use strict';\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      goog.events.listenOnce(src, type[i], listener, opt_options, opt_handler);\n    }\n    return null;\n  }\n\n  listener = goog.events.wrapListener(listener);\n  if (goog.events.Listenable.isImplementedBy(src)) {\n    var capture =\n        goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options;\n    return src.listenOnce(\n        /** @type {string|!goog.events.EventId} */ (type), listener, capture,\n        opt_handler);\n  } else {\n    return goog.events.listen_(\n        /** @type {!EventTarget} */ (src), type, listener,\n        /* callOnce */ true, opt_options, opt_handler);\n  }\n};\n\n\n/**\n * Adds an event listener with a specific event wrapper on a DOM Node or an\n * object that has implemented {@link goog.events.Listenable}. A listener can\n * only be added once to an object.\n *\n * @param {EventTarget|goog.events.Listenable} src The target to\n *     listen to events on.\n * @param {goog.events.EventWrapper} wrapper Event wrapper to use.\n * @param {function(this:T, ?):?|{handleEvent:function(?):?}|null} listener\n *     Callback method, or an object with a handleEvent function.\n * @param {boolean=} opt_capt Whether to fire in capture phase (defaults to\n *     false).\n * @param {T=} opt_handler Element in whose scope to call the listener.\n * @template T\n */\ngoog.events.listenWithWrapper = function(\n    src, wrapper, listener, opt_capt, opt_handler) {\n  'use strict';\n  wrapper.listen(src, listener, opt_capt, opt_handler);\n};\n\n\n/**\n * Removes an event listener which was added with listen().\n *\n * @param {EventTarget|goog.events.Listenable} src The target to stop\n *     listening to events on.\n * @param {string|Array<string>|\n *     !goog.events.EventId<EVENTOBJ>|!Array<!goog.events.EventId<EVENTOBJ>>}\n *     type Event type or array of event types to unlisten to.\n * @param {function(?):?|{handleEvent:function(?):?}|null} listener The\n *     listener function to remove.\n * @param {(boolean|!EventListenerOptions)=} opt_options\n *     whether the listener is fired during the capture or bubble phase of the\n *     event.\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n * @return {?boolean} indicating whether the listener was there to remove.\n * @template EVENTOBJ\n */\ngoog.events.unlisten = function(src, type, listener, opt_options, opt_handler) {\n  'use strict';\n  if (Array.isArray(type)) {\n    for (var i = 0; i < type.length; i++) {\n      goog.events.unlisten(src, type[i], listener, opt_options, opt_handler);\n    }\n    return null;\n  }\n  var capture =\n      goog.isObject(opt_options) ? !!opt_options.capture : !!opt_options;\n\n  listener = goog.events.wrapListener(listener);\n  if (goog.events.Listenable.isImplementedBy(src)) {\n    return src.unlisten(\n        /** @type {string|!goog.events.EventId} */ (type), listener, capture,\n        opt_handler);\n  }\n\n  if (!src) {\n    // TODO(chrishenry): We should tighten the API to only accept\n    // non-null objects, or add an assertion here.\n    return false;\n  }\n\n  var listenerMap = goog.events.getListenerMap_(\n      /** @type {!EventTarget} */ (src));\n  if (listenerMap) {\n    var listenerObj = listenerMap.getListener(\n        /** @type {string|!goog.events.EventId} */ (type), listener, capture,\n        opt_handler);\n    if (listenerObj) {\n      return goog.events.unlistenByKey(listenerObj);\n    }\n  }\n\n  return false;\n};\n\n\n/**\n * Removes an event listener which was added with listen() by the key\n * returned by listen().\n *\n * @param {goog.events.Key} key The key returned by listen() for this\n *     event listener.\n * @return {boolean} indicating whether the listener was there to remove.\n */\ngoog.events.unlistenByKey = function(key) {\n  'use strict';\n  // TODO(chrishenry): Remove this check when tests that rely on this\n  // are fixed.\n  if (typeof key === 'number') {\n    return false;\n  }\n\n  var listener = key;\n  if (!listener || listener.removed) {\n    return false;\n  }\n\n  var src = listener.src;\n  if (goog.events.Listenable.isImplementedBy(src)) {\n    return /** @type {!goog.events.Listenable} */ (src).unlistenByKey(listener);\n  }\n\n  var type = listener.type;\n  var proxy = listener.proxy;\n  if (src.removeEventListener) {\n    src.removeEventListener(type, proxy, listener.capture);\n  } else if (src.detachEvent) {\n    src.detachEvent(goog.events.getOnString_(type), proxy);\n  } else if (src.addListener && src.removeListener) {\n    src.removeListener(proxy);\n  }\n  goog.events.listenerCountEstimate_--;\n\n  var listenerMap = goog.events.getListenerMap_(\n      /** @type {!EventTarget} */ (src));\n  // TODO(chrishenry): Try to remove this conditional and execute the\n  // first branch always. This should be safe.\n  if (listenerMap) {\n    listenerMap.removeByKey(listener);\n    if (listenerMap.getTypeCount() == 0) {\n      // Null the src, just because this is simple to do (and useful\n      // for IE <= 7).\n      listenerMap.src = null;\n      // We don't use delete here because IE does not allow delete\n      // on a window object.\n      src[goog.events.LISTENER_MAP_PROP_] = null;\n    }\n  } else {\n    /** @type {!goog.events.Listener} */ (listener).markAsRemoved();\n  }\n\n  return true;\n};\n\n\n/**\n * Removes an event listener which was added with listenWithWrapper().\n *\n * @param {EventTarget|goog.events.Listenable} src The target to stop\n *     listening to events on.\n * @param {goog.events.EventWrapper} wrapper Event wrapper to use.\n * @param {function(?):?|{handleEvent:function(?):?}|null} listener The\n *     listener function to remove.\n * @param {boolean=} opt_capt In DOM-compliant browsers, this determines\n *     whether the listener is fired during the capture or bubble phase of the\n *     event.\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n */\ngoog.events.unlistenWithWrapper = function(\n    src, wrapper, listener, opt_capt, opt_handler) {\n  'use strict';\n  wrapper.unlisten(src, listener, opt_capt, opt_handler);\n};\n\n\n/**\n * Removes all listeners from an object. You can also optionally\n * remove listeners of a particular type.\n *\n * @param {Object|undefined} obj Object to remove listeners from. Must be an\n *     EventTarget or a goog.events.Listenable.\n * @param {string|!goog.events.EventId=} opt_type Type of event to remove.\n *     Default is all types.\n * @return {number} Number of listeners removed.\n */\ngoog.events.removeAll = function(obj, opt_type) {\n  'use strict';\n  // TODO(chrishenry): Change the type of obj to\n  // (!EventTarget|!goog.events.Listenable).\n\n  if (!obj) {\n    return 0;\n  }\n\n  if (goog.events.Listenable.isImplementedBy(obj)) {\n    return /** @type {?} */ (obj).removeAllListeners(opt_type);\n  }\n\n  var listenerMap = goog.events.getListenerMap_(\n      /** @type {!EventTarget} */ (obj));\n  if (!listenerMap) {\n    return 0;\n  }\n\n  var count = 0;\n  var typeStr = opt_type && opt_type.toString();\n  for (var type in listenerMap.listeners) {\n    if (!typeStr || type == typeStr) {\n      // Clone so that we don't need to worry about unlistenByKey\n      // changing the content of the ListenerMap.\n      var listeners = listenerMap.listeners[type].concat();\n      for (var i = 0; i < listeners.length; ++i) {\n        if (goog.events.unlistenByKey(listeners[i])) {\n          ++count;\n        }\n      }\n    }\n  }\n  return count;\n};\n\n\n/**\n * Gets the listeners for a given object, type and capture phase.\n *\n * @param {Object} obj Object to get listeners for.\n * @param {string|!goog.events.EventId} type Event type.\n * @param {boolean} capture Capture phase?.\n * @return {!Array<!goog.events.Listener>} Array of listener objects.\n */\ngoog.events.getListeners = function(obj, type, capture) {\n  'use strict';\n  if (goog.events.Listenable.isImplementedBy(obj)) {\n    return /** @type {!goog.events.Listenable} */ (obj).getListeners(\n        type, capture);\n  } else {\n    if (!obj) {\n      // TODO(chrishenry): We should tighten the API to accept\n      // !EventTarget|goog.events.Listenable, and add an assertion here.\n      return [];\n    }\n\n    var listenerMap = goog.events.getListenerMap_(\n        /** @type {!EventTarget} */ (obj));\n    return listenerMap ? listenerMap.getListeners(type, capture) : [];\n  }\n};\n\n\n/**\n * Gets the goog.events.Listener for the event or null if no such listener is\n * in use.\n *\n * @param {EventTarget|goog.events.Listenable} src The target from\n *     which to get listeners.\n * @param {?string|!goog.events.EventId<EVENTOBJ>} type The type of the event.\n * @param {function(EVENTOBJ):?|{handleEvent:function(?):?}|null} listener The\n *     listener function to get.\n * @param {boolean=} opt_capt In DOM-compliant browsers, this determines\n *                            whether the listener is fired during the\n *                            capture or bubble phase of the event.\n * @param {Object=} opt_handler Element in whose scope to call the listener.\n * @return {goog.events.ListenableKey} the found listener or null if not found.\n * @template EVENTOBJ\n */\ngoog.events.getListener = function(src, type, listener, opt_capt, opt_handler) {\n  'use strict';\n  // TODO(chrishenry): Change type from ?string to string, or add assertion.\n  type = /** @type {string} */ (type);\n  listener = goog.events.wrapListener(listener);\n  var capture = !!opt_capt;\n  if (goog.events.Listenable.isImplementedBy(src)) {\n    return src.getListener(type, listener, capture, opt_handler);\n  }\n\n  if (!src) {\n    // TODO(chrishenry): We should tighten the API to only accept\n    // non-null objects, or add an assertion here.\n    return null;\n  }\n\n  var listenerMap = goog.events.getListenerMap_(\n      /** @type {!EventTarget} */ (src));\n  if (listenerMap) {\n    return listenerMap.getListener(type, listener, capture, opt_handler);\n  }\n  return null;\n};\n\n\n/**\n * Returns whether an event target has any active listeners matching the\n * specified signature. If either the type or capture parameters are\n * unspecified, the function will match on the remaining criteria.\n *\n * @param {EventTarget|goog.events.Listenable} obj Target to get\n *     listeners for.\n * @param {string|!goog.events.EventId=} opt_type Event type.\n * @param {boolean=} opt_capture Whether to check for capture or bubble-phase\n *     listeners.\n * @return {boolean} Whether an event target has one or more listeners matching\n *     the requested type and/or capture phase.\n */\ngoog.events.hasListener = function(obj, opt_type, opt_capture) {\n  'use strict';\n  if (goog.events.Listenable.isImplementedBy(obj)) {\n    return obj.hasListener(opt_type, opt_capture);\n  }\n\n  var listenerMap = goog.events.getListenerMap_(\n      /** @type {!EventTarget} */ (obj));\n  return !!listenerMap && listenerMap.hasListener(opt_type, opt_capture);\n};\n\n\n/**\n * Provides a nice string showing the normalized event objects public members\n * @param {Object} e Event Object.\n * @return {string} String of the public members of the normalized event object.\n */\ngoog.events.expose = function(e) {\n  'use strict';\n  var str = [];\n  for (var key in e) {\n    if (e[key] && e[key].id) {\n      str.push(key + ' = ' + e[key] + ' (' + e[key].id + ')');\n    } else {\n      str.push(key + ' = ' + e[key]);\n    }\n  }\n  return str.join('\\n');\n};\n\n\n/**\n * Returns a string with on prepended to the specified type. This is used for IE\n * which expects \"on\" to be prepended. This function caches the string in order\n * to avoid extra allocations in steady state.\n * @param {string} type Event type.\n * @return {string} The type string with 'on' prepended.\n * @private\n */\ngoog.events.getOnString_ = function(type) {\n  'use strict';\n  if (type in goog.events.onStringMap_) {\n    return goog.events.onStringMap_[type];\n  }\n  return goog.events.onStringMap_[type] = goog.events.onString_ + type;\n};\n\n\n/**\n * Fires an object's listeners of a particular type and phase\n *\n * @param {Object} obj Object whose listeners to call.\n * @param {string|!goog.events.EventId} type Event type.\n * @param {boolean} capture Which event phase.\n * @param {Object} eventObject Event object to be passed to listener.\n * @return {boolean} True if all listeners returned true else false.\n */\ngoog.events.fireListeners = function(obj, type, capture, eventObject) {\n  'use strict';\n  if (goog.events.Listenable.isImplementedBy(obj)) {\n    return /** @type {!goog.events.Listenable} */ (obj).fireListeners(\n        type, capture, eventObject);\n  }\n\n  return goog.events.fireListeners_(obj, type, capture, eventObject);\n};\n\n\n/**\n * Fires an object's listeners of a particular type and phase.\n * @param {Object} obj Object whose listeners to call.\n * @param {string|!goog.events.EventId} type Event type.\n * @param {boolean} capture Which event phase.\n * @param {Object} eventObject Event object to be passed to listener.\n * @return {boolean} True if all listeners returned true else false.\n * @private\n */\ngoog.events.fireListeners_ = function(obj, type, capture, eventObject) {\n  'use strict';\n  /** @type {boolean} */\n  var retval = true;\n\n  var listenerMap = goog.events.getListenerMap_(\n      /** @type {EventTarget} */ (obj));\n  if (listenerMap) {\n    // TODO(chrishenry): Original code avoids array creation when there\n    // is no listener, so we do the same. If this optimization turns\n    // out to be not required, we can replace this with\n    // listenerMap.getListeners(type, capture) instead, which is simpler.\n    var listenerArray = listenerMap.listeners[type.toString()];\n    if (listenerArray) {\n      listenerArray = listenerArray.concat();\n      for (var i = 0; i < listenerArray.length; i++) {\n        var listener = listenerArray[i];\n        // We might not have a listener if the listener was removed.\n        if (listener && listener.capture == capture && !listener.removed) {\n          var result = goog.events.fireListener(listener, eventObject);\n          retval = retval && (result !== false);\n        }\n      }\n    }\n  }\n  return retval;\n};\n\n\n/**\n * Fires a listener with a set of arguments\n *\n * @param {goog.events.Listener} listener The listener object to call.\n * @param {Object} eventObject The event object to pass to the listener.\n * @return {*} Result of listener.\n */\ngoog.events.fireListener = function(listener, eventObject) {\n  'use strict';\n  var listenerFn = listener.listener;\n  var listenerHandler = listener.handler || listener.src;\n\n  if (listener.callOnce) {\n    goog.events.unlistenByKey(listener);\n  }\n  return listenerFn.call(listenerHandler, eventObject);\n};\n\n\n/**\n * Gets the total number of listeners currently in the system.\n * @return {number} Number of listeners.\n * @deprecated This returns estimated count, now that Closure no longer\n * stores a central listener registry. We still return an estimation\n * to keep existing listener-related tests passing. In the near future,\n * this function will be removed.\n */\ngoog.events.getTotalListenerCount = function() {\n  'use strict';\n  return goog.events.listenerCountEstimate_;\n};\n\n\n/**\n * Dispatches an event (or event like object) and calls all listeners\n * listening for events of this type. The type of the event is decided by the\n * type property on the event object.\n *\n * If any of the listeners returns false OR calls preventDefault then this\n * function will return false.  If one of the capture listeners calls\n * stopPropagation, then the bubble listeners won't fire.\n *\n * @param {goog.events.Listenable} src The event target.\n * @param {goog.events.EventLike} e Event object.\n * @return {boolean} If anyone called preventDefault on the event object (or\n *     if any of the handlers returns false) this will also return false.\n *     If there are no handlers, or if all handlers return true, this returns\n *     true.\n */\ngoog.events.dispatchEvent = function(src, e) {\n  'use strict';\n  goog.asserts.assert(\n      goog.events.Listenable.isImplementedBy(src),\n      'Can not use goog.events.dispatchEvent with ' +\n          'non-goog.events.Listenable instance.');\n  return src.dispatchEvent(e);\n};\n\n\n/**\n * Installs exception protection for the browser event entry point using the\n * given error handler.\n *\n * @param {goog.debug.ErrorHandler} errorHandler Error handler with which to\n *     protect the entry point.\n */\ngoog.events.protectBrowserEventEntryPoint = function(errorHandler) {\n  'use strict';\n  goog.events.handleBrowserEvent_ =\n      errorHandler.protectEntryPoint(goog.events.handleBrowserEvent_);\n};\n\n\n/**\n * Handles an event and dispatches it to the correct listeners. This\n * function is a proxy for the real listener the user specified.\n *\n * @param {goog.events.Listener} listener The listener object.\n * @param {Event=} opt_evt Optional event object that gets passed in via the\n *     native event handlers.\n * @return {*} Result of the event handler.\n * @this {EventTarget} The object or Element that fired the event.\n * @private\n */\ngoog.events.handleBrowserEvent_ = function(listener, opt_evt) {\n  'use strict';\n  if (listener.removed) {\n    return true;\n  }\n\n  // Synthesize event propagation if the browser does not support W3C\n  // event model.\n  if (!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT) {\n    var ieEvent = opt_evt ||\n        /** @type {Event} */ (goog.getObjectByName('window.event'));\n    var evt = new goog.events.BrowserEvent(ieEvent, this);\n    /** @type {*} */\n    var retval = true;\n\n    if (goog.events.CAPTURE_SIMULATION_MODE ==\n        goog.events.CaptureSimulationMode.ON) {\n      // If we have not marked this event yet, we should perform capture\n      // simulation.\n      if (!goog.events.isMarkedIeEvent_(ieEvent)) {\n        goog.events.markIeEvent_(ieEvent);\n\n        var ancestors = [];\n        for (var parent = evt.currentTarget; parent;\n             parent = parent.parentNode) {\n          ancestors.push(parent);\n        }\n\n        // Fire capture listeners.\n        var type = listener.type;\n        for (var i = ancestors.length - 1;\n             !evt.hasPropagationStopped() && i >= 0; i--) {\n          evt.currentTarget = ancestors[i];\n          var result =\n              goog.events.fireListeners_(ancestors[i], type, true, evt);\n          retval = retval && result;\n        }\n\n        // Fire bubble listeners.\n        //\n        // We can technically rely on IE to perform bubble event\n        // propagation. However, it turns out that IE fires events in\n        // opposite order of attachEvent registration, which broke\n        // some code and tests that rely on the order. (While W3C DOM\n        // Level 2 Events TR leaves the event ordering unspecified,\n        // modern browsers and W3C DOM Level 3 Events Working Draft\n        // actually specify the order as the registration order.)\n        for (var i = 0; !evt.hasPropagationStopped() && i < ancestors.length;\n             i++) {\n          evt.currentTarget = ancestors[i];\n          var result =\n              goog.events.fireListeners_(ancestors[i], type, false, evt);\n          retval = retval && result;\n        }\n      }\n    } else {\n      retval = goog.events.fireListener(listener, evt);\n    }\n    return retval;\n  }\n\n  // Otherwise, simply fire the listener.\n  return goog.events.fireListener(\n      listener, new goog.events.BrowserEvent(opt_evt, this));\n};\n\n\n/**\n * This is used to mark the IE event object so we do not do the Closure pass\n * twice for a bubbling event.\n * @param {Event} e The IE browser event.\n * @private\n */\ngoog.events.markIeEvent_ = function(e) {\n  'use strict';\n  // Only the keyCode and the returnValue can be changed. We use keyCode for\n  // non keyboard events.\n  // event.returnValue is a bit more tricky. It is undefined by default. A\n  // boolean false prevents the default action. In a window.onbeforeunload and\n  // the returnValue is non undefined it will be alerted. However, we will only\n  // modify the returnValue for keyboard events. We can get a problem if non\n  // closure events sets the keyCode or the returnValue\n\n  var useReturnValue = false;\n\n  if (e.keyCode == 0) {\n    // We cannot change the keyCode in case that srcElement is input[type=file].\n    // We could test that that is the case but that would allocate 3 objects.\n    // If we use try/catch we will only allocate extra objects in the case of a\n    // failure.\n\n    try {\n      e.keyCode = -1;\n      return;\n    } catch (ex) {\n      useReturnValue = true;\n    }\n  }\n\n  if (useReturnValue ||\n      /** @type {boolean|undefined} */ (e.returnValue) == undefined) {\n    e.returnValue = true;\n  }\n};\n\n\n/**\n * This is used to check if an IE event has already been handled by the Closure\n * system so we do not do the Closure pass twice for a bubbling event.\n * @param {Event} e  The IE browser event.\n * @return {boolean} True if the event object has been marked.\n * @private\n */\ngoog.events.isMarkedIeEvent_ = function(e) {\n  'use strict';\n  return e.keyCode < 0 || e.returnValue != undefined;\n};\n\n\n/**\n * Counter to create unique event ids.\n * @private {number}\n */\ngoog.events.uniqueIdCounter_ = 0;\n\n\n/**\n * Creates a unique event id.\n *\n * @param {string} identifier The identifier.\n * @return {string} A unique identifier.\n * @idGenerator {unique}\n */\ngoog.events.getUniqueId = function(identifier) {\n  'use strict';\n  return identifier + '_' + goog.events.uniqueIdCounter_++;\n};\n\n\n/**\n * @param {EventTarget} src The source object.\n * @return {goog.events.ListenerMap} A listener map for the given\n *     source object, or null if none exists.\n * @private\n */\ngoog.events.getListenerMap_ = function(src) {\n  'use strict';\n  var listenerMap = src[goog.events.LISTENER_MAP_PROP_];\n  // IE serializes the property as well (e.g. when serializing outer\n  // HTML). So we must check that the value is of the correct type.\n  return listenerMap instanceof goog.events.ListenerMap ? listenerMap : null;\n};\n\n\n/**\n * Expando property for listener function wrapper for Object with\n * handleEvent.\n * @private @const {string}\n */\ngoog.events.LISTENER_WRAPPER_PROP_ =\n    '__closure_events_fn_' + ((Math.random() * 1e9) >>> 0);\n\n\n/**\n * @param {Object|Function} listener The listener function or an\n *     object that contains handleEvent method.\n * @return {!Function} Either the original function or a function that\n *     calls obj.handleEvent. If the same listener is passed to this\n *     function more than once, the same function is guaranteed to be\n *     returned.\n */\ngoog.events.wrapListener = function(listener) {\n  'use strict';\n  goog.asserts.assert(listener, 'Listener can not be null.');\n\n  if (typeof listener === 'function') {\n    return listener;\n  }\n\n  goog.asserts.assert(\n      listener.handleEvent, 'An object listener must have handleEvent method.');\n  if (!listener[goog.events.LISTENER_WRAPPER_PROP_]) {\n    listener[goog.events.LISTENER_WRAPPER_PROP_] = function(e) {\n      'use strict';\n      return /** @type {?} */ (listener).handleEvent(e);\n    };\n  }\n  return listener[goog.events.LISTENER_WRAPPER_PROP_];\n};\n\n\n// Register the browser event handler as an entry point, so that\n// it can be monitored for exception handling, etc.\ngoog.debug.entryPointRegistry.register(\n    /**\n     * @param {function(!Function): !Function} transformer The transforming\n     *     function.\n     */\n    function(transformer) {\n      'use strict';\n      goog.events.handleBrowserEvent_ =\n          transformer(goog.events.handleBrowserEvent_);\n    });\n"],
"names":["goog","provide","require","requireType","events","Key","ListenableType","LISTENER_MAP_PROP_","Math","random","onString_","onStringMap_","CaptureSimulationMode","OFF_AND_FAIL","OFF_AND_SILENT","ON","CAPTURE_SIMULATION_MODE","define","listenerCountEstimate_","listen","goog.events.listen","src","type","listener","opt_options","opt_handler","once","listenOnce","Array","isArray","i","length","wrapListener","Listenable","isImplementedBy","capture","isObject","listen_","goog.events.listen_","callOnce","Error","BrowserFeature","HAS_W3C_EVENT_SUPPORT","asserts","fail","listenerMap","getListenerMap_","ListenerMap","listenerObj","add","proxy","getProxy","addEventListener","PASSIVE_EVENTS","undefined","toString","attachEvent","getOnString_","addListener","removeListener","assert","goog.events.getProxy","proxyCallbackFunction","handleBrowserEvent_","f","eventObject","call","v","goog.events.listenOnce","listenWithWrapper","goog.events.listenWithWrapper","wrapper","opt_capt","unlisten","goog.events.unlisten","getListener","unlistenByKey","goog.events.unlistenByKey","key","removed","removeEventListener","detachEvent","removeByKey","getTypeCount","markAsRemoved","unlistenWithWrapper","goog.events.unlistenWithWrapper","removeAll","goog.events.removeAll","obj","opt_type","removeAllListeners","count","typeStr","listeners","concat","getListeners","goog.events.getListeners","goog.events.getListener","hasListener","goog.events.hasListener","opt_capture","expose","goog.events.expose","e","str","id","push","join","goog.events.getOnString_","fireListeners","goog.events.fireListeners","fireListeners_","goog.events.fireListeners_","retval","listenerArray","result","fireListener","goog.events.fireListener","listenerFn","listenerHandler","handler","getTotalListenerCount","goog.events.getTotalListenerCount","dispatchEvent","goog.events.dispatchEvent","protectBrowserEventEntryPoint","goog.events.protectBrowserEventEntryPoint","errorHandler","protectEntryPoint","goog.events.handleBrowserEvent_","opt_evt","ieEvent","getObjectByName","evt","BrowserEvent","isMarkedIeEvent_","markIeEvent_","ancestors","parent","currentTarget","parentNode","hasPropagationStopped","goog.events.markIeEvent_","useReturnValue","keyCode","ex","returnValue","goog.events.isMarkedIeEvent_","uniqueIdCounter_","getUniqueId","goog.events.getUniqueId","identifier","goog.events.getListenerMap_","LISTENER_WRAPPER_PROP_","goog.events.wrapListener","handleEvent","debug","entryPointRegistry","register","transformer"]
}
