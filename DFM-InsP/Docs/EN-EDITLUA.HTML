<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>DFM-InsP Edit Lua Expressions Help</title>
  <style>
   div.info{padding:5pt;color:black;backgro
       und-color:#f2c0b8;margin-bottom:0.5em}p.h{font-size:1.08em;font-weight:700;margin-top:1em;margin-bottom:0.2em}img{border:1px solid;di
	   splay:block;margin-left:auto;margin-right:auto;max-width:100%}#jetired{color:#d42e12;}.navbar{margin:1em 0}img.optional,img{display:n
	       one}img.lq{display:block;}@media(min-width:600px){img.optional{display:block}}@media(min-width:320px),print{img{display:block}img.lq{
		   display:none}}
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">DFM-InsP Edit Lua Expressions Help</h1>
</header>
<p>This is the lua expression editor. You use the 3D wheel to scroll the list of numbers, functions, variables and operators back and forth.</p>
<p>The highlighted symbol will be included in the expression if you press enter while it is highlighted. Note that some common symbols are assigned to softkeys to speed up the input process.</p>
<h1>Functions available</h1>
<p><strong>abs(v)</strong> Returns the absolute value of v</p>
<p><strong>sqrt(v)</strong> Returns the square root of v</p>
<p><strong>minV(\'Sn\')</strong> Returns the minimum value of lua variable Sn since app start or reset. <strong>Single Quotation marks required</strong>.</p>
<p><strong>maxV(\'Sn\')</strong> Returns the maximum value of lua variable Sn since app start or reset. <strong>Single Quotation marks required</strong>.</p>
<p><strong>avgV(\'Sn\')</strong> Returns the average value of lua variable Sn since app start or reset, OR the running average value of Sn. <strong>Single Quotation marks required</strong>.</p>
<p>Set the averaging mode for variable Sn in the <em>Lua Variables</em> \'More\' sub-menu - Choose <em>Global Average</em> mode to average Sn from app start or reset, or <em>Running Average</em> mode to compute a \'sliding window average\' over N samples. N is also set in the \'More\' menu.</p>
<p>Depending on the number of lua variables defined, they are updated 20-30 times per second so a value of 30 for N will give approximately a 1s averaging time. N must be greater than or equal to 1. With N=1 no averaging is performed.</p>
<p>This function is useful for \'cleaning up\' noisy data to display on a gauge or chart recorder. You can select the average mode and averaging number for each lua variable independent of its source.</p>
<p>Notes:</p>
<p>The max, min and average values returned by maxV, minV and avgV are reset at app startup and can also be reset with the switch assigned to reset the min/max on gauges. This switch assignment is done in the <strong>Settings</strong> menu.</p>
<p>There may be other functions shown in the scroll list that are loaded dynamically at app start and are provisioned from lua files in the <strong>Extensions</strong> or <strong>Functions</strong> directories. Some examples include:</p>
<p><strong>LiPoV(s)</strong> Returns the generic (brands can vary!) 1S LiPo voltage at state of charge s</p>
<p><strong>LiPoS(v)</strong> Returns the generic (brands can vary!) 1S LiPo state of charge at voltage v</p>
<p><strong>LiFeV(s)</strong> Returns the generic (brands can vary!) 1S LiFe voltage at state of charge s</p>
<p><strong>LiFeS(v)</strong> Returns the generic (brands can vary!) 1S LiFe state of charge at voltage v</p>
<p><strong>gratio(a,v)</strong> Returns the glide ratio computed from airspeed a and vario reading v</p>
</body>
</html>
